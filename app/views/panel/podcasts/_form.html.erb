<form id="fields-for-s3">
	<% @s3_direct_post.fields.map do |name, value| %>
	    <input type="hidden" name="<%= name %>" value="<%= value %>" />
	<% end %>
</form>
<%= form_for [:panel, @station, @podcast], html: { class: "card admin-form directUpload", remote: true, data: { 'form-data' => (@s3_direct_post.fields), 'url' => @s3_direct_post.url, 'host' => URI.parse(@s3_direct_post.url).host }} do |f| %>
	<% if @podcast.errors.any? %>	
		<h5 class="small-title"><%= pluralize(@podcast.errors.count, "errores") %></h5>
			<ul class="errors">
				<% @podcast.errors.full_messages.each do |msg| %>
						<li><%= msg %></li>
				<% end %>
			</ul>
	<% end %>
	
	<div class="field field--string">
		<label>Nombre del Podcast</label>
		<%= f.text_field :name %>
	</div>
	<div class="field field--string">
		<label>Archivo del stream</label>
		<%= f.file_field :stream_url %>
	</div>
		
<% end %>
<%= render "components/s3_form_js" %>

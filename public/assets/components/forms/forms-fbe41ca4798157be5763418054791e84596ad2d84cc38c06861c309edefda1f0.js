function new_fields(){$(".directUpload").find("input:file").each(function(a,e){var d=$(e),i=$(d.parents("form:first")),r=i.find('input[type="submit"]'),p=$("<div class='bar'></div>"),t=$("<div class='progress'></div>").append(p);d.after(t),d.fileupload({fileInput:d,url:i.data("url"),type:"POST",autoUpload:!0,formData:i.data("form-data"),paramName:"file",dataType:"XML",replaceFileInput:!1,progressall:function(a,e){var t=parseInt(e.loaded/e.total*100,10);p.css("width",t+"%")},start:function(){r.prop("disabled",!0),p.css("background","green").css("color","white").css("padding","12px").css("box-sizing","content-box").css("display","flex").css("width","0%").text("Uploading...")},done:function(a,e){r.prop("disabled",!1),p.text("Success!");var t=$(e.jqXHR.responseXML).find("Key").text(),s="//"+i.data("host")+"/"+t,n=$("<input />",{type:"hidden",name:d.attr("name"),value:s});i.append(n)},fail:function(){r.prop("disabled",!1),p.css("background","red").text("There was an error uploading the file. Refresh and try again.")}})})}function new_fields(){$(".directUpload").find("input:file").each(function(a,e){var d=$(e),i=$(d.parents("form:first")),r=i.find('input[type="submit"]'),p=$("<div class='bar'></div>"),t=$("<div class='progress'></div>").append(p);d.after(t),d.fileupload({fileInput:d,url:i.data("url"),type:"POST",autoUpload:!0,formData:i.data("form-data"),paramName:"file",dataType:"XML",replaceFileInput:!1,progressall:function(a,e){var t=parseInt(e.loaded/e.total*100,10);p.css("width",t+"%")},start:function(){r.prop("disabled",!0),p.css("background","green").css("color","white").css("padding","12px").css("box-sizing","content-box").css("display","flex").css("width","0%").text("Uploading...")},done:function(a,e){r.prop("disabled",!1),p.text("Success!");var t=$(e.jqXHR.responseXML).find("Key").text(),s="//"+i.data("host")+"/"+t,n=$("<input />",{type:"hidden",name:d.attr("name"),value:s});i.append(n)},fail:function(){r.prop("disabled",!1),p.css("background","red").text("There was an error uploading the file. Refresh and try again.")}})})}$(".directUpload").find("input:file").each(function(a,e){var d=$(e),i=$(d.parents("form:first")),r=i.find('input[type="submit"]'),p=$("<div class='bar'></div>"),t=$("<div class='progress'></div>").append(p);d.after(t),d.fileupload({fileInput:d,url:i.data("url"),type:"POST",autoUpload:!0,formData:i.data("form-data"),paramName:"file",dataType:"XML",replaceFileInput:!1,progressall:function(a,e){var t=parseInt(e.loaded/e.total*100,10);p.css("width",t+"%")},start:function(){r.prop("disabled",!0),p.css("background","green").css("color","white").css("padding","12px").css("box-sizing","content-box").css("display","flex").css("width","0%").text("Uploading...")},done:function(a,e){r.prop("disabled",!1),p.text("Success!");var t=$(e.jqXHR.responseXML).find("Key").text(),s="//"+i.data("host")+"/"+t,n=$("<input />",{type:"hidden",name:d.attr("name"),value:s});i.append(n)},fail:function(){r.prop("disabled",!1),p.css("background","red").text("There was an error uploading the file. Refresh and try again.")}})});